<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>G·ª≠i em n√®!</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Dancing+Script&display=swap" rel="stylesheet"/>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', sans-serif;
      background-color: #fff0f5;
      text-align: center;
      color: #a21d33;
      overflow-x: hidden;
    }

    .container {
      padding: 40px 20px;
    }

    .button {
      background-color: #ff007f;
      color: white;
      border: none;
      padding: 15px 30px;
      font-size: 1.2em;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 20px;
      transition: 0.3s;
    }

    .button:hover {
      background-color: #e6006f;
    }

    .image-container img {
      max-width: 300px;
      border-radius: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 10;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      background-color: rgba(0,0,0,0.7);
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background-color: #fff0f5;
      padding: 30px;
      border-radius: 20px;
      width: 90%;
      max-width: 450px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }

    input[type="date"],
    input[type="time"],
    textarea {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      font-size: 16px;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-family: 'Montserrat', sans-serif;
    }

    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }

    .signature {
      font-family: 'Dancing Script', cursive;
      font-size: 20px;
      margin-top: 40px;
    }

    #question {
      display: none;
    }

    /* ƒê·ªãnh d·∫°ng cho text box */
    .text-box {
      background-color: white;
      border-radius: 10px;
      padding: 20px;
      width: 80%;
      max-width: 600px;
      margin: 0 auto;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      font-size: 21px;
      text-align: left;
      position: relative;
      top: 1cm;
      font-family: 'Dancing Script', cursive;
      display: none;
      white-space: pre-line;  /* Gi·ªØ nguy√™n kho·∫£ng c√°ch d√≤ng */
    }

    .intro {
      text-align: center;
      margin-bottom: 20px;
      font-size: 1.5rem;
    }

    .message {
      font-size: 1.2rem;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>

  <div class="container" id="intro">
    <h2>S·∫Øp ƒë∆∞·ª£c ngh·ªâ l·ªÖ 30/4 r·ªìi √≠ n√™n l√†...</h2>
    <p>Kh√¥ng bi·∫øt t·ª•i m√¨nh c√≥ th·ªÉ h·∫πn nhau m·ªôt bu·ªïi ƒëi ch∆°i kh√¥nggg ü•∞</p>
    <div class="image-container">
      <img src="https://i.imgur.com/xPKj6zk.png" alt="Flowers"/>
    </div>
    <button class="button" onclick="nextStep()">Ti·∫øp t·ª•c</button>
  </div>

  <div class="container" id="question">
    <h2>V·∫≠y t·ª•i m√¨nh c√πng l√™n k·∫ø ho·∫°ch cho ng√†y h√¥m ƒë√≥ nh√© üíå</h2>
    <button class="button" onclick="showModal()">D·∫°aa</button>
  </div>

  <!-- Modal ch·ªçn ng√†y + ho·∫°t ƒë·ªông + th·ªùi gian + l·ªùi nh·∫Øn -->
  <div class="modal" id="myModal">
    <div class="modal-content">
      <h2>M√¨nh ƒëi date nha ‚ù§Ô∏è</h2>
      <label for="date">Ch·ªçn ng√†y:</label>
      <input type="date" id="date">

      <label for="activities">H√¥m ƒë√≥ em mu·ªën l√†m g√¨? (t·ª•i m√¨nh c√≥ th·ªÉ ƒëi ƒÉn, ƒëi ch∆°i, ƒëi coi phim,...):</label>
      <textarea id="activities" rows="4" placeholder="M√¥ t·∫£ ho·∫°t ƒë·ªông em mu·ªën l√†m?"></textarea>

      <label for="time">V·∫≠y c·∫≠u mu·ªën ƒëi ch∆°i l√∫c m·∫•y gi·ªù :> :</label>
      <input type="time" id="time" name="time">

      <label for="note">Vi·∫øt g√¨ ƒë√≥ th√™m n√® (t√πy em ü•∫):</label>
      <textarea id="note" rows="4" placeholder="Em mu·ªën n√≥i ƒëi·ªÅu g√¨ v·ªõi anh h√¥ng?"></textarea>

      <button class="button" onclick="sendDate()">G·ª≠i cho anh</button>
    </div>
  </div>

  <!-- Text box hi·ªÉn th·ªã b·ª©c th∆∞ -->
  <div id="letter-container" class="text-box"></div>

 <script>
  function nextStep() {
    document.getElementById("intro").style.display = "none";
    document.getElementById("question").style.display = "block";
  }

  function showModal() {
    document.getElementById("myModal").style.display = "flex";
  }

  function sendDate() {
    const selectedDate = document.getElementById("date").value;
    const selectedTime = document.getElementById("time").value;
    const activities = document.getElementById("activities").value.trim();
    const note = document.getElementById("note").value.trim();

    // Ki·ªÉm tra xem ƒë√£ ch·ªçn ng√†y, gi·ªù v√† ho·∫°t ƒë·ªông ch∆∞a
    if (!selectedDate || !selectedTime || !activities) {
      alert("Em nh·ªõ ch·ªçn ng√†y, gi·ªù v√† m√¥ t·∫£ ho·∫°t ƒë·ªông nha!");
      return;
    }

    // T·∫°o b·ª©c th∆∞ v·ªõi n·ªôi dung dynamic
    let letterContent = `Dear tieu thu Tram Anh, 

C·∫£m ∆°n em ƒë√£ ƒë·ªìng √Ω ƒëi ch∆°i v·ªõi anh! 
Sau ƒë√¢y anh xin g·ª≠i th√¥ng tin v·ªÅ l·ªãch h·∫πn ng√†y h√¥m nay c·ªßa ch√∫ng ta nh√©!
- N·ªôi dung cu·ªôc h·∫πn: Ph·ªèng v·∫•n ·ª©ng tuy·ªÉn v·ªã tr√≠ ng∆∞·ªùi ƒë∆∞a em ƒëi ch∆°i khi em ch√°n. 
- Th·ªùi gian: ${selectedTime} v√†o ng√†y ${selectedDate}
- ƒê·ªãa ƒëi·ªÉm: ƒê√¢u ƒë√≥ quanh H·∫£i Ph√≤ng
- Trang ph·ª•c: G√¨ c≈©ng ƒë∆∞·ª£c v√¨ em m·∫∑c g√¨ c≈©ng xinh.
- Th·ªùi gian anh ƒë√≥n: B·∫•t c·ª© khi n√†o em s·∫µn s√†ng.

Em vui ph·∫£n h·ªìi l·∫°i ƒë·ªãa ƒëi·ªÉm anh c√≥ th·ªÉ ƒë√≥n em ƒë·ªÉ x√°c nh·∫≠n l·ªãch h·∫πn. C·∫£m ∆°n em!
Regards,
-Your sweetie pookie dookie-`;

    // Thay th·∫ø c√°c k√Ω t·ª± xu·ªëng d√≤ng th√†nh <br> v√† gi·ªØ nguy√™n c√°c kho·∫£ng tr·∫Øng
    letterContent = letterContent.replace(/\n/g, '<br>');

    // ·∫®n t·∫•t c·∫£ n·ªôi dung hi·ªán t·∫°i tr√™n m√†n h√¨nh
    document.getElementById("intro").style.display = "none";
    document.getElementById("question").style.display = "none";
    document.getElementById("myModal").style.display = "none";

    // Hi·ªÉn th·ªã b·ª©c th∆∞ trong text box
    const letterContainer = document.getElementById('letter-container');
    letterContainer.style.display = "block"; // Hi·ªÉn th·ªã text box
    letterContainer.innerHTML = letterContent; // Ch√®n n·ªôi dung th∆∞ v·ªõi ƒë·ªãnh d·∫°ng xu·ªëng d√≤ng

    // G·ª≠i th√¥ng tin ƒë·∫øn Telegram Bot
    sendToTelegram(selectedDate, selectedTime, activities, note);
  }

  function sendToTelegram(date, time, activities, note) {
    const botToken = "8163597572:AAEg8CPGrEhil5I6oVrTu-rDEz8MKha0EYw";  // Thay th·∫ø b·∫±ng token bot th·∫≠t
    const chatId = "7402107166";  // Thay th·∫ø b·∫±ng chat ID th·∫≠t

    // T·∫°o n·ªôi dung tin nh·∫Øn
    const message = `
L·ªãch h·∫πn m·ªõi:

- Ng√†y: ${date}
- Th·ªùi gian: ${time}
- Ho·∫°t ƒë·ªông: ${activities}
- L·ªùi nh·∫Øn: ${note}
    `;

    // T·∫°o URL API Telegram
    const apiUrl = `https://api.telegram.org/bot${botToken}/sendMessage`;

    // G·ª≠i y√™u c·∫ßu ƒë·∫øn API Telegram ƒë·ªÉ g·ª≠i tin nh·∫Øn
    fetch(apiUrl, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        chat_id: chatId,
        text: message,
      }),
    })
    .then(response => response.json())
    .then(data => {
      if (data.ok) {
        console.log("Th√¥ng tin ƒë√£ ƒë∆∞·ª£c g·ª≠i ƒë·∫øn bot Telegram th√†nh c√¥ng.");
      } else {
        console.error("C√≥ l·ªói x·∫£y ra khi g·ª≠i tin nh·∫Øn:", data);
      }
    })
    .catch(error => {
      console.error("L·ªói khi g·ª≠i tin nh·∫Øn ƒë·∫øn Telegram:", error);
    });
  }
</script>

